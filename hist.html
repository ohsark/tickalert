<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>
    <title>Tick Alert</title>

    <style>
        .leaflet-container {
            background: #fff;
            outline: 0;
            border-radius: 5px;
        }
    </style>

  </head>
  <body>
    <nav class="navbar navbar-light border-0 border-bottom py-1">
      <div class="container-fluid ">
        <div class="navbar-brand mb-0 fs-5 fw-bold align-items-center"><span class="text-danger">Tick </span><span>Alert</span><i class="fa-solid fa-shield-dog ms-2"></i> </div>
        <span class="text-secondary h5">Historic Data Analysis</span>
			</div>
    </nav>
		
    <div class="container-fluid bg-light" style="height:91.5vh">
        <div class="row p-2" style="height: 40%;">
            
            <div class="col-lg-3">
                <div class="bg-white border border-light rounded rounded-3 h-100 shadow my-2" style="height:35%">
                    <div id="map" class="h-100"></div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="bg-white px-2 py-1 border border-light rounded rounded-3 h-100 shadow my-2" style="height:35%">
                    
                </div>
            </div>
            <div class="col-lg-2">
                <div class="bg-white px-2 py-1 border border-light rounded rounded-3 h-100 shadow my-2" style="height:35%">
                    <b class="h6 fw-bold">Top Affected Areas</b>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="bg-white px-2 py-1 border border-light rounded rounded-3 h-100 shadow my-2" >
                    <b class="h6 fw-bold">Seasonality</b>
                </div>
            </div>
        </div>

        <div class="row p-2" style="height:60%">
            <div class="col-lg-4">
                <div class="bg-white border px-2 py-1 border-light rounded rounded-3 h-100 shadow my-2">
                    <b class="h6 fw-bold">Admissions for Ticks</b>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="bg-white border px-2 py-1 border-light rounded rounded-3 h-100 shadow my-2">
                    <b class="h6 fw-bold">Cases of Ticks</b>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="bg-white border px-2 py-1 border-light rounded rounded-3 h-100 shadow my-2">
                    <b class="h6 fw-bold">Trend</b>
                </div>
            </div>     
        </div>

    </div>
	

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script> 
        
    <!-- <script src="./script.js"></script> -->
    <script>
       
        fetch('./data/aus_lga_map.geojson')
            .then(response => response.json())
            .then(data => {
                let map = L.map('map', {zoomControl: false}).setView([151.2093,-33.8688],zoom = 25),
                vector = L.geoJson(data, {
                    onEachFeature: (feature, layer) => {
                        layer.on("click", (e, d) => {
                            console.log(e.target.feature.properties)
                        })
                        layer.on("mouseover", (e, d) => {
                            layer.setStyle({
                                fillColor: "#EC5858"
                            })
                        })
                        layer.on("mouseout", (e, d) => {
                            layer.setStyle({
                                fillColor: "#DCBCBC"
                            })
                        })
                    },
                    style: {
                        color: "#EC5858",
                        weight: 1,
                        fillColor: "#DCBCBC",
                        fillOpacity: 1
                    }
                }).addTo(map); 
                map.fitBounds(vector.getBounds());
                // vector.bindPopup(function (layer) {
                //     return layer.feature.properties.description;
                // }) 
            })
            .catch(error => console.log(error));
    </script>
  </body>
</html>